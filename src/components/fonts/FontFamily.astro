---
import { getFontList } from './utils';
export interface Props {
    packageName: string;
    cnName: string;
    versions: string[];
    version: string;
}
const { packageName, versions, version, cnName } = Astro.props;
const fontDirs = await getFontList(packageName, versions[0]);
---

<div
    class="m-auto flex h-screen w-full max-w-2xl flex-col gap-2 divide-y divide-gray-300 overflow-auto p-4"
>
    <nav>
        <a href="/">
            <div class="w-fit px-2 rounded-2xl bg-sky-400 py-2 text-center text-xl text-white">
                返回主页
            </div>
        </a>
    </nav>
    <header class="py-4 text-center text-2xl">{cnName}</header>
    <div class="flex justify-between pt-2 text-2xl">
        <div>仓库代码</div>
        <div>{packageName}</div>
    </div>
    <div class="flex justify-between pt-2 text-2xl">
        <div>版本号</div>
        <select class="rounded-lg" value={version}>
            {versions.map((item) => <option value={item}>{item}</option>)}
        </select>
    </div>
    <nav class="mt-2 flex h-full flex-col overflow-auto pt-2">
        <header class="text-2xl text-orange-500">字体列表</header>
        <div class="flex-1 overflow-auto py-4">
            <nav class="flex flex-col gap-2">
                {
                    fontDirs.map((item) => {
                        return (
                            <a href={`/fonts/${packageName}@${version}/` + item}>
                                <div class="flex-none text-xl hover:bg-gray-200">
                                    {item}
                                    <span class="float-right  mr-4 cursor-pointer rounded bg-gray-200 py-2 px-4 text-sm transition-colors duration-300 ">
                                        跳转
                                    </span>
                                </div>
                            </a>
                        );
                    })
                }
            </nav>
        </div>
    </nav>
</div>
